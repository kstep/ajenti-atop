<body>
    <pad id="main">
        <formline text="{Atop log file}">
            <hc>
                <pathbox id="logfile" value="" style="big" />
                <button text="{Load}" icon="ok" style="mini" id="loadlog" />
            </hc>
        </formline>
        <chart
            title="CPU consumtion"
            xaxis="[{
                'type': 'datetime'
            }]"
            yaxis="[{
                'min': 0,
                'max': 100
            }]"
            series="[{
                'name': 'Sys'
            }, {
                'name': 'User'
            }, {
                'name': 'Wait'
            }]"
            width="300"
            height="200"
            bind="stats"
            bindtransform="lambda s: map(lambda s: (lambda s: [
                s.epoch * 1000,
                s.sys * 1.0 / s.tps / s.ncpu,
                s.usr * 1.0 / s.tps / s.ncpu,
                s.wait * 1.0 / s.tps / s.ncpu
                ])(s['CPU']), s)"
            />
        <chart
            title="Disk operations"
            xaxis="[{
                'type': 'datetime'
            }]"
            yaxis="[{}]"
            series="[{
                'name': 'Reads'
            }, {
                'name': 'Writes'
            }]"
            width="300"
            height="200"
            bind="stats"
            bindtransform="lambda s: map(lambda s: (lambda s: [
                s.epoch * 1000,
                s.reads, s.writes
                ])(s['DSK']['sda']), s)"
            />
        <chart
            type="spline"
            title="Load average"
            xaxis="[{
                'type': 'datetime'
            }]"
            yaxis="[{}]"
            series="[{
                'name': '1 min'
            }, {
                'name': '5 min'
            }, {
                'name': '15 min'
            }]"
            width="300"
            height="200"
            bind="stats"
            bindtransform="lambda s: map(lambda s: (lambda s: [
                s.epoch * 1000,
                s.la1, s.la5, s.la15
                ])(s['CPL']), s)"
            />
    </pad>
</body>
